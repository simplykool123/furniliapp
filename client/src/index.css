@tailwind base;
@tailwind components;
@tailwind utilities;

/* Performance optimizations */
* {
  /* Reduce layout thrashing */
  box-sizing: border-box;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  /* Reduce animations on mobile for better performance - EXCEPT sidebar */
  .mobile-animation-reduce:not(.mobile-sidebar):not(.mobile-backdrop), 
  .mobile-animation-reduce:not(.mobile-sidebar):not(.mobile-backdrop)::before, 
  .mobile-animation-reduce:not(.mobile-sidebar):not(.mobile-backdrop)::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  /* Optimize scrolling on mobile */
  .scroll-smooth {
    scroll-behavior: auto;
  }
}

/* Touch optimizations */
@media (hover: none) {
  /* Remove hover states on touch devices */
  .hover\:shadow-lg:hover {
    box-shadow: none;
  }
  
  /* Increase touch targets */
  button, .btn, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Reduce motion for performance */
@media (prefers-reduced-motion: reduce) {
  .animation-reduce, .animation-reduce::before, .animation-reduce::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Mobile-first typography scaling */
@media (max-width: 640px) {
  .text-4xl { font-size: 2rem; }
  .text-3xl { font-size: 1.75rem; }
  .text-2xl { font-size: 1.5rem; }
  .text-xl { font-size: 1.25rem; }
}

/* Mobile-friendly spacing */
@media (max-width: 768px) {
  .p-8 { padding: 1rem; }
  .p-6 { padding: 0.75rem; }
  .p-4 { padding: 0.5rem; }
  .gap-8 { gap: 1rem; }
  .gap-6 { gap: 0.75rem; }
  .gap-4 { gap: 0.5rem; }
  .space-y-8 > * + * { margin-top: 1rem; }
  .space-y-6 > * + * { margin-top: 0.75rem; }
  .space-y-4 > * + * { margin-top: 0.5rem; }
}

/* Optimized mobile grid */
@media (max-width: 768px) {
  .grid-cols-4 { grid-template-columns: repeat(2, 1fr); }
  .grid-cols-3 { grid-template-columns: repeat(2, 1fr); }
  .md\:grid-cols-2 { grid-template-columns: 1fr; }
  .lg\:grid-cols-4 { grid-template-columns: repeat(2, 1fr); }
}

/* Mobile table optimizations */
@media (max-width: 768px) {
  .table-responsive {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
  }
  
  .table-responsive table {
    width: 100%;
    min-width: 600px;
  }
}

/* Mobile dialog/modal optimizations */
@media (max-width: 768px) {
  .dialog-content {
    max-width: 95vw !important;
    max-height: 90vh !important;
    margin: 0 !important;
  }
  
  .dialog-content .space-y-4 > * + * {
    margin-top: 0.75rem;
  }
}

/* Performance: GPU acceleration for transforms */
.transform {
  transform: translateZ(0);
  will-change: transform;
}

/* Mobile-optimized shadows */
@media (max-width: 768px) {
  .shadow-lg {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  
  .shadow-xl {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
}

/* Touch-friendly focus styles */
@media (hover: none) {
  button:focus,
  input:focus,
  select:focus,
  textarea:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
}

/* Mobile navigation safe areas */
@supports (padding: max(0px)) {
  .safe-area-inset-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  
  .safe-area-inset-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
}

/* Performance: Reduce repaints */
.no-paint {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000;
}

/* Mobile form optimizations */
@media (max-width: 768px) {
  .form-mobile input,
  .form-mobile select,
  .form-mobile textarea {
    font-size: 16px; /* Prevent zoom on iOS */
    padding: 0.75rem;
    min-height: 44px;
  }
  
  .form-mobile .grid-cols-4 {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }
  
  .form-mobile label {
    font-size: 0.875rem;
    margin-bottom: 0.25rem;
  }
}

/* Line clamping for mobile */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Dynamic Notification Bell Animations */
@keyframes bellSwing {
  0% { transform: rotate(0deg); }
  10% { transform: rotate(15deg); }
  20% { transform: rotate(-10deg); }
  30% { transform: rotate(8deg); }
  40% { transform: rotate(-5deg); }
  50% { transform: rotate(3deg); }
  60% { transform: rotate(-2deg); }
  70% { transform: rotate(1deg); }
  100% { transform: rotate(0deg); }
}

@keyframes bellBounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-6px); }
  60% { transform: translateY(-3px); }
}

@keyframes badgePulse {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes glowRing {
  0% { 
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
    transform: scale(1.05);
  }
  100% { 
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
    transform: scale(1);
  }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-bell-swing {
  animation: bellSwing 1s ease-in-out;
}

.animate-bell-bounce {
  animation: bellBounce 0.6s ease-in-out;
}

.animate-badge-pulse {
  animation: badgePulse 1.5s ease-in-out infinite;
}

.animate-glow-ring {
  animation: glowRing 2s ease-out infinite;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Mobile Touch Optimization */
@media (max-width: 1024px) {
  .touch-target {
    min-width: 44px;
    min-height: 44px;
    touch-action: manipulation;
  }
  
  button, [role="button"] {
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
}

/* Furnili Professional Component Styles */
.furnili-card {
  @apply bg-white rounded-xl shadow-sm border hover:shadow-md transition-all duration-200;
  border-color: hsl(var(--border));
}

.furnili-button-primary {
  @apply px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md text-white;
  background-color: var(--furnili-primary);
}

.furnili-button-primary:hover {
  background-color: var(--furnili-accent);
}

.furnili-button-secondary {
  @apply px-6 py-3 rounded-lg font-medium transition-all duration-200 border;
  background-color: white;
  color: var(--furnili-primary);
  border-color: var(--furnili-primary);
}

.furnili-button-secondary:hover {
  background-color: var(--furnili-primary);
  color: white;
}

.furnili-gradient {
  background: var(--furnili-gradient);
}

.furnili-glass {
  @apply backdrop-blur-sm border;
  background-color: rgba(255, 255, 255, 0.8);
  border-color: rgba(255, 255, 255, 0.2);
}

.furnili-sidebar {
  background: linear-gradient(180deg, hsl(var(--background)) 0%, hsl(var(--muted)) 100%);
}

.furnili-header {
  @apply backdrop-blur-sm border-b;
  background-color: rgba(255, 255, 255, 0.95);
  border-color: hsl(var(--border));
}

.furnili-page {
  @apply min-h-screen;
  background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--muted) / 0.5) 50%, hsl(var(--background)) 100%);
}

.furnili-section {
  @apply bg-white rounded-xl p-6 shadow-sm border;
  border-color: hsl(var(--border));
}

.furnili-stats-card {
  @apply rounded-xl p-6 shadow-sm border hover:shadow-md transition-all duration-200;
  background: linear-gradient(135deg, white 0%, hsl(var(--muted) / 0.3) 100%);
  border-color: hsl(var(--border));
}

.furnili-table {
  @apply bg-white rounded-xl shadow-sm border overflow-hidden;
  border-color: hsl(var(--border));
}

.furnili-input {
  border-color: hsl(var(--border));
}

.furnili-input:focus {
  border-color: hsl(var(--primary));
  box-shadow: 0 0 0 3px hsl(var(--primary) / 0.2);
}

.furnili-nav-item {
  @apply px-3 py-2.5 rounded-lg transition-all duration-200 font-medium;
  color: hsl(var(--foreground) / 0.8);
}

.furnili-nav-item:hover {
  color: hsl(var(--foreground));
  background-color: hsl(var(--muted) / 0.5);
}

.furnili-nav-item-active {
  @apply shadow-sm text-white;
  background-color: hsl(var(--primary));
}

:root {
  /* Furnili Brand Colors - Professional Palette */
  --furnili-primary: hsl(28, 100%, 25%); /* Dark Brown Primary */
  --furnili-secondary: hsl(39, 47%, 68%); /* #D4B896 - Warm tan */
  --furnili-cream: hsl(44, 52%, 95%); /* #F5F0E8 - Cream background */
  --furnili-accent: hsl(25, 75%, 35%); /* Rich Brown Accent */
  --furnili-light: hsl(40, 30%, 92%); /* Light Neutral */
  --furnili-gradient: linear-gradient(135deg, hsl(28, 100%, 25%) 0%, hsl(25, 75%, 35%) 100%);
  
  /* Semantic Colors */
  --background: hsl(44, 52%, 95%);
  --foreground: hsl(28, 100%, 25%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(28, 100%, 25%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(28, 100%, 25%);
  --primary: hsl(28, 100%, 25%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(39, 47%, 68%);
  --secondary-foreground: hsl(28, 100%, 25%);
  --muted: hsl(40, 30%, 92%);
  --muted-foreground: hsl(25, 20%, 45%);
  --accent: hsl(25, 75%, 35%);
  --accent-foreground: hsl(0, 0%, 100%);
  --destructive: hsl(0, 84%, 60%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --border: hsl(40, 20%, 85%);
  --input: hsl(40, 20%, 85%);
  --ring: hsl(28, 100%, 25%);
  --radius: 0.75rem;
  --furnili-dark: hsl(25, 25%, 15%); /* Dark brown */
  --furnili-accent: hsl(39, 60%, 55%); /* Darker tan for accents */
  
  --background: hsl(44, 52%, 95%); /* Cream background for pages */
  --foreground: hsl(25, 25%, 15%);
  --muted: hsl(39, 30%, 90%);
  --muted-foreground: hsl(39, 15%, 45%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(25, 25%, 15%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(25, 25%, 15%);
  --border: hsl(39, 20%, 85%);
  --input: hsl(39, 20%, 92%);
  --primary: hsl(28, 100%, 25%); /* Dark brown primary */
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(39, 60%, 55%);
  --secondary-foreground: hsl(0, 0%, 100%);
  --accent: hsl(39, 30%, 90%);
  --accent-foreground: hsl(25, 25%, 15%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --ring: var(--furnili-primary);
  --radius: 0.5rem; /* More compact radius */
  
  /* Surface colors */
  --surface: var(--furnili-cream);
  
  /* Status colors */
  --warning: hsl(45, 93%, 47%);
  --warning-foreground: hsl(0, 0%, 100%);
  --success: hsl(142, 76%, 36%);
  --success-foreground: hsl(0, 0%, 100%);
  --error: hsl(0, 84.2%, 60.2%);
  --error-foreground: hsl(0, 0%, 100%);
}

/* Consistent Button Styles */
@layer components {
  .btn-primary {
    @apply bg-amber-900 hover:bg-amber-800 text-white font-medium px-4 py-2 rounded-md transition-colors duration-200 flex items-center gap-2;
  }
  
  .btn-secondary {
    @apply bg-amber-700 hover:bg-amber-600 text-white font-medium px-4 py-2 rounded-md transition-colors duration-200 flex items-center gap-2;
  }
  
  .btn-outline {
    @apply border border-amber-900 text-amber-900 hover:bg-amber-900 hover:text-white font-medium px-4 py-2 rounded-md transition-colors duration-200 flex items-center gap-2;
  }
  
  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }
  
  .btn-lg {
    @apply px-6 py-3 text-base;
  }
  
  /* Consistent Card Layout */
  .card-compact {
    @apply bg-white rounded-lg border shadow-sm p-4;
  }
  
  .card-grid {
    @apply grid gap-4;
  }
  
  /* Consistent Spacing */
  .section-padding {
    @apply p-6;
  }
  
  .content-spacing {
    @apply space-y-4;
  }
  
  .compact-spacing {
    @apply space-y-2;
  }
  
  /* Mobile-Optimized Form Styles */
  .mobile-form {
    @apply space-y-3 p-3;
  }
  
  .mobile-form-field {
    @apply space-y-1;
  }
  
  .mobile-form-input {
    @apply h-10 text-sm;
  }
  
  .mobile-form-label {
    @apply text-sm font-medium;
  }
  
  .mobile-action-buttons {
    @apply fixed bottom-0 left-0 right-0 bg-white border-t p-3 flex gap-2 z-50;
  }
  
  .mobile-table-header {
    @apply text-xs font-medium p-2 border-r;
  }
  
  .mobile-table-cell {
    @apply text-xs p-1 border-r;
  }
  
  /* Mobile Dialog Optimizations */
  .mobile-dialog {
    @apply max-w-[95vw] max-h-[95vh] m-1 p-0 overflow-hidden;
  }
  
  .mobile-dialog-header {
    @apply p-3 pb-2 border-b;
  }
  
  .mobile-dialog-title {
    @apply text-base font-semibold;
  }
  
  /* Touch-friendly buttons */
  .mobile-button {
    @apply h-10 text-sm px-3;
  }
  
  .mobile-button-sm {
    @apply h-8 text-xs px-2;
  }
}

.dark {
  /* Dark theme with Furnili accents */
  --background: hsl(25, 25%, 8%);
  --foreground: hsl(39, 20%, 90%);
  --muted: hsl(25, 15%, 15%);
  --muted-foreground: hsl(39, 10%, 60%);
  --popover: hsl(25, 25%, 12%);
  --popover-foreground: hsl(39, 20%, 90%);
  --card: hsl(25, 20%, 12%);
  --card-foreground: hsl(39, 20%, 90%);
  --border: hsl(25, 15%, 20%);
  --input: hsl(25, 15%, 18%);
  --primary: hsl(28, 100%, 25%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(39, 60%, 55%);
  --secondary-foreground: hsl(25, 25%, 15%);
  --accent: hsl(25, 15%, 18%);
  --accent-foreground: hsl(39, 20%, 90%);
  --destructive: hsl(0, 62.8%, 50%);
  --destructive-foreground: hsl(0, 0%, 100%);
  --ring: var(--furnili-primary);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply antialiased bg-background text-foreground transition-colors duration-300;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-foreground;
  }

  /* Enhanced scrollbars */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply rounded-full;
    background-color: hsl(var(--muted) / 0.3);
  }

  ::-webkit-scrollbar-thumb {
    @apply rounded-full transition-colors;
    background-color: hsl(var(--primary) / 0.5);
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--primary) / 0.7);
  }

  /* Custom utilities */
  .furnili-gradient {
    background: linear-gradient(135deg, hsl(var(--furnili-primary)) 0%, hsl(var(--furnili-accent)) 100%);
  }

  .glass-effect {
    backdrop-filter: blur(10px);
    background: hsla(0, 0%, 100%, 0.7);
  }

  .dark .glass-effect {
    background: hsla(var(--background), 0.7);
  }

  /* Mobile-specific styles */
  .mobile-optimized {
    font-size: 16px; /* Prevent zoom on iOS */
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }

  .mobile-layout {
    touch-action: manipulation;
  }

  .orientation-portrait {
    --mobile-spacing: 0.75rem;
  }

  .orientation-landscape {
    --mobile-spacing: 0.5rem;
  }

  /* Touch-friendly interactive elements */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Smooth scrolling for mobile */
  .mobile-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Animation classes */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.4s ease-out;
  }

  .animate-slide-down {
    animation: slideDown 0.4s ease-out;
  }

  .animate-bounce-in {
    animation: bounceIn 0.5s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes bounceIn {
    0% { opacity: 0; transform: scale(0.3); }
    50% { opacity: 1; transform: scale(1.05); }
    70% { transform: scale(0.9); }
    100% { opacity: 1; transform: scale(1); }
  }

  /* Mobile responsive utilities */
  @media (max-width: 768px) {
    .mobile-stack > * + * {
      margin-top: 1rem;
    }
    
    .mobile-full-width {
      width: 100vw;
      margin-left: calc(-50vw + 50%);
    }
    
    .mobile-safe-area-top {
      padding-top: env(safe-area-inset-top);
    }
    
    .mobile-safe-area-bottom {
      padding-bottom: env(safe-area-inset-bottom);
    }
    
    .mobile-hide {
      display: none !important;
    }
    
    .mobile-show {
      display: block !important;
    }
  }

  @media (min-width: 769px) {
    .desktop-hide {
      display: none !important;
    }
  }
}

@layer utilities {
  .font-inter {
    font-family: 'Inter', sans-serif;
  }
  
  .text-surface {
    color: hsl(var(--surface));
  }
  
  .bg-surface {
    background-color: hsl(var(--surface));
  }
  
  .text-success {
    color: hsl(var(--success));
  }
  
  .bg-success {
    background-color: hsl(var(--success));
  }
  
  .text-warning {
    color: hsl(var(--warning));
  }
  
  .bg-warning {
    background-color: hsl(var(--warning));
  }
  
  .text-error {
    color: hsl(var(--error));
  }
  
  .bg-error {
    background-color: hsl(var(--error));
  }
}

/* Custom Furnili Brand Colors for Sidebar */
:root {
  --sidebar-background: #D4B896;
  --sidebar-foreground: #654B35;
  --sidebar-primary: #B8965C;
  --sidebar-primary-foreground: white;
  --sidebar-accent: #B8965C;
  --sidebar-accent-foreground: white;
  --sidebar-border: #B8965C;
  --sidebar-ring: #B8965C;
}

.dark {
  --sidebar-background: #2D2D2D;
  --sidebar-foreground: #E5E5E5;
  --sidebar-primary: #D4B896;
  --sidebar-primary-foreground: #1F1F1F;
  --sidebar-accent: #D4B896;
  --sidebar-accent-foreground: #1F1F1F;
  --sidebar-border: #404040;
  --sidebar-ring: #D4B896;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Animation improvements */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out;
}

/* Focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
}

/* Loading state */
.loading-shimmer {
  background: linear-gradient(90deg, hsl(var(--muted)) 25%, hsl(var(--muted-foreground) / 0.1) 50%, hsl(var(--muted)) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
